---
permalink: workflows/task-create-a-workflow.html 
sidebar: sidebar 
keywords: use, workflow, automation, create, tasks, provisioning, migrate, decommissioning, storage, databases, file, systems, predefined, wfa, match, requirements 
summary: 'WFA(Workflow Automation)를 사용하여 데이터베이스 또는 파일 시스템의 스토리지 프로비저닝, 마이그레이션, 서비스 해제 등의 작업을 위한 워크플로우를 생성할 수 있습니다. 사전 정의된 WFA 워크플로우가 귀사의 요구사항과 일치하지 않을 경우 워크플로우를 생성해야 합니다.' 
---
= 워크플로를 만듭니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
WFA(Workflow Automation)를 사용하여 데이터베이스 또는 파일 시스템의 스토리지 프로비저닝, 마이그레이션, 서비스 해제 등의 작업을 위한 워크플로우를 생성할 수 있습니다. 사전 정의된 WFA 워크플로우가 귀사의 요구사항과 일치하지 않을 경우 워크플로우를 생성해야 합니다.

.필요한 것
* WFA 구성 요소에 대한 개념을 이해해야 합니다.
* 워크플로에 필요한 반복 행, 승인 지점 및 자원 선택과 같은 기능을 이해해야 합니다.
* 워크플로 요구 사항 체크리스트를 포함하여 워크플로에 필요한 계획을 완료해야 합니다.
* 스토리지 운영자에게 워크플로우에 대한 정보를 제공하는 도움말 콘텐츠를 만들어야 합니다.


.이 작업에 대해
각 워크플로의 구조는 워크플로의 목표와 요구 사항에 따라 달라질 수 있습니다. 이 작업에서는 특정 워크플로에 대한 지침을 제공하지 않지만 워크플로를 만들기 위한 일반적인 지침을 제공합니다.

.단계
. 워크플로우 설계 * > * 워크플로우 * 를 클릭합니다.
. 을 클릭합니다 image:../media/new_wfa_icon.gif["새 아이콘"] 를 클릭합니다.
. Workflow * 탭에서 다음 단계를 수행하십시오.
+
.. 필요한 스키마를 확장한 다음 필요한 스키마를 두 번 클릭합니다 image:../media/wfa_command_icon.gif["명령 아이콘"] (명령) 또는 image:../media/wfa_workflow_icon.gif["워크플로 아이콘"] (워크플로) * 사용 가능한 단계 * 목록에서 선택합니다.
+
필요에 따라 이 단계를 반복할 수 있습니다. 단계를 끌어서 놓아 워크플로 편집기의 단계를 다시 정렬할 수 있습니다.

.. * 선택 사항: * 를 클릭합니다 image:../media/add_row2_wfa_icon.gif[""] 필요한 행 수를 추가하는 데 사용되며, 이 수는 단계 실행을 위한 세부 정보를 지정하는 데 사용됩니다.
+
각 단계는 지정된 행 및 열의 지정된 단계 세부 정보를 기반으로 실행됩니다. 단계는 왼쪽에서 오른쪽으로, 위에서 아래로 실행됩니다.

.. 추가한 단계 아래에 커서를 놓고 클릭합니다 image:../media/add_object_wfa_icon.gif["명령 세부 정보 아이콘"] 필요한 행에서 단계 실행에 대한 단계 세부 정보를 추가합니다.
+
[cols="2*"]
|===
| 이 단계의 경우... | 수행할 작업... 


 a| 
워크플로우
 a| 
Workflow *(작업 흐름 *) 탭에 필요한 사용자 입력을 입력하고 * Advanced *(고급 *) 탭에 필요한 조건을 입력합니다.



 a| 
명령
 a| 
명령> 탭의 매개 변수 탭에서 각 개체 탭을 클릭하고 필요한 옵션을 선택하여 개체 특성을 정의한 다음 고급 탭과 기타 매개 변수 탭에 필요한 세부 정보를 입력합니다.



 a| 
검색 또는 정의
 a| 
검색하거나 정의해야 하는 사전 항목 개체를 선택합니다.

|===
+
다음 그림에서는 개체 특성을 정의하는 데 사용할 수 있는 옵션을 보여 줍니다.

+
image::../media/define_object_options.gif[개체 옵션을 정의합니다]

+
적절한 작업을 선택합니다.

+
[cols="2*"]
|===
| 대상... | 수행할 작업... 


 a| 
속성을 채웁니다
 a| 
다음 옵션을 사용하여 속성 값을 입력합니다.

*** 표현식
*** 변수
*** 사용자 입력
*** 리소스 선택
*** 증분 이름 지정


속성 필드 위에 커서를 놓고 를 클릭해야 합니다 image:../media/elipsisicon.gif[""] 리소스 선택 또는 증분 이름 지정 기능을 사용합니다.



 a| 
이전에 정의된 '_object_'를 사용합니다
 a| 
옵션 목록 앞의 상자에서 이전에 정의한 '개체'를 선택합니다.



 a| 
기존의 '_object_'을(를) 검색합니다
 a| 
... 리소스 선택 기능을 사용하여 객체를 검색하려면 * 검색 기준 입력 * 을 클릭합니다.
... 필요한 개체를 찾을 수 없는 경우 실행에 필요한 옵션 중 하나를 선택합니다.
+
**** 워크플로를 중단합니다
+
이 옵션은 특정 개체를 찾을 수 없는 경우 워크플로 실행을 중단합니다.

**** 이 명령을 비활성화합니다
+
 This option disables only the current step and executes the workflow.
**** 'object'에 대한 속성을 채우고 명령어를 수행한다
+
 This option enables you to enter the required attributes and execute the workflow.




|===


. 승인 지점을 삽입하려면 을 클릭합니다 image:../media/approval_point_hover_icon.gif["승인 지점 호버 아이콘"] 승인 지점에 필요한 설명을 입력합니다.
+
승인 지점 메모에는 MVEL 식이 포함될 수 있습니다.

. 을 클릭합니다 image:../media/repeat_row_arrow.gif[""] 행 번호 옆에 있는 다음 작업을 수행합니다.
+
** 행을 삽입합니다.
** 행을 복사합니다.
** 행을 반복합니다.
+
다음 옵션 중 하나를 사용하여 명령 매개 변수의 반복을 지정할 수 있습니다.

+
*** 횟수
+
이 옵션을 사용하여 지정한 반복 횟수만큼 명령 실행을 반복할 수 있습니다. 예를 들어, ""qtree 생성"" 명령을 세 번 반복하여 세 개의 qtree를 만들도록 지정할 수 있습니다.

+
이 옵션을 사용하여 동적 명령 실행 수를 지정할 수도 있습니다. 예를 들어, 생성할 LUN 수에 대한 사용자 입력 변수를 생성하고 워크플로우를 실행하거나 스케줄을 지정할 때 스토리지 운영자가 지정한 번호를 사용할 수 있습니다.

*** 그룹의 모든 리소스에 대해
+
이 옵션을 사용한 다음 개체의 검색 조건을 지정할 수 있습니다. 이 명령은 검색 조건에 의해 개체가 반환되는 횟수만큼 반복됩니다. 예를 들어, 클러스터에서 노드를 검색하고 각 노드에 대해 ""iSCSI 논리 인터페이스 생성"" 명령을 반복할 수 있습니다.



** 행 실행을 위한 조건을 추가합니다.
** 행을 제거합니다.


. Details * 탭에서 다음 단계를 수행하십시오.
+
.. 워크플로 이름 * 및 * 워크플로 설명 * 필드에 필요한 정보를 지정합니다.
+
워크플로 이름 및 설명은 각 워크플로에 대해 고유해야 합니다.

.. * 선택 사항: * 엔터티 버전을 지정합니다.
.. * 선택 사항: * 예약 기능을 사용하지 않으려면 * 예약된 요소 고려 * 확인란을 지웁니다.
.. * 선택 사항: * 같은 이름의 요소에 대한 유효성 검사를 사용하지 않으려면 * 요소 존재 유효성 검사 사용 * 확인란의 선택을 취소합니다.


. 사용자 입력을 편집하려면 다음 단계를 수행하십시오.
+
.. 사용자 입력 * 탭을 클릭합니다.
.. 편집할 사용자 입력을 두 번 클릭합니다.
.. 변수 편집:<사용자 입력> * 대화 상자에서 사용자 입력을 편집합니다.


. 상수를 추가하려면 다음 단계를 수행하십시오
+
.. 상수 * 탭을 클릭한 다음 * 추가 * 단추를 사용하여 워크플로에 필요한 상수를 추가합니다.
+
여러 명령에 대한 매개 변수를 정의하기 위해 공통 값을 사용할 때 상수를 정의할 수 있습니다. 예를 들어 "'SnapVault을 사용하여 LUN 생성, 매핑 및 보호' 워크플로우에 사용되는 aggregate_over오버커밋_threshold 상수를 참조하십시오.

.. 각 상수의 이름, 설명 및 값을 입력합니다.


. 반환 매개 변수 * 탭을 클릭한 다음 * 추가 * 버튼을 사용하여 워크플로에 필요한 매개 변수를 추가합니다.
+
워크플로 계획 및 실행이 계획 중에 계산되거나 선택된 일부 값을 반환해야 하는 경우 반환 매개 변수를 사용할 수 있습니다. 계산 또는 선택한 값을 Workflow 미리 보기의 모니터링 창에 있는 Return Parameters(매개 변수 반환) 탭 또는 워크플로 실행이 완료된 후에 볼 수 있습니다.

+
Aggregate: Aggregate를 반환 매개 변수로 지정하여 리소스 선택 로직을 사용하여 선택된 Aggregate를 확인할 수 있습니다.

+
워크플로에 하위 워크플로를 포함했고 하위 워크플로 반환 매개 변수 이름에 공백, 달러 기호($)가 포함된 경우 또는 상위 워크플로의 하위 워크플로 반환 매개 변수 값을 보려면 부모 워크플로의 대괄호 안에 반환 매개 변수 이름을 지정해야 합니다.

+
[cols="2*"]
|===
| 매개 변수 이름이... | 다음으로 지정... 


 a| 
'ChildWorkflow1.abc$value'
 a| 
'ChildWorkflow1["abc$"+"value"]'



 a| 
'ChildWorkflow1.$value'
 a| 
'ChildWorkflow1["$" + "value"]'



 a| 
'ChildWorkflow1.value$'
 a| 
'ChildWorkflow1.value$'



 a| 
ChildWorkflow1.P N
 a| 
'ChildWorkflow1["P N"]'



 a| 
"ChildWorkflow1.return_string("hw")"
 a| 
"ChildWorkflow1["return_string(\"hw\")"]"

|===
. * 선택 사항: * 도움말 콘텐츠 * 탭을 클릭하여 워크플로에 대해 만든 도움말 콘텐츠 파일을 추가합니다.
. 미리 보기 * 를 클릭하고 워크플로 계획이 성공적으로 완료되었는지 확인합니다.
. 확인 * 을 클릭하여 미리보기 창을 닫습니다.
. 저장 * 을 클릭합니다.




== 작업을 마친 후

테스트 환경에서 워크플로를 테스트한 다음 *_WorkflowName_ * > *_Details_ * 에서 워크플로를 생산 준비 상태로 표시합니다.
