---
permalink: workflows/concept-how-resource-selection-works.html 
sidebar: sidebar 
keywords: oncommand, workflow, automation, use, search, algorithms, select, storage, resource, execution, understand, order, design, efficiently 
summary: 'WFA(OnCommand Workflow Automation)는 검색 알고리즘을 사용하여 워크플로우 실행을 위한 스토리지 리소스를 선택합니다. 워크플로를 효율적으로 설계하려면 리소스 선택이 어떻게 작동하는지 이해해야 합니다.' 
---
= 리소스 선택 작동 방식
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
WFA(OnCommand Workflow Automation)는 검색 알고리즘을 사용하여 워크플로우 실행을 위한 스토리지 리소스를 선택합니다. 워크플로를 효율적으로 설계하려면 리소스 선택이 어떻게 작동하는지 이해해야 합니다.

WFA는 검색 알고리즘을 사용하여 vFiler 유닛, 애그리게이트, 가상 머신 등의 사전 항목 리소스를 선택합니다. 그러면 선택한 리소스가 워크플로를 실행하는 데 사용됩니다. WFA 검색 알고리즘은 WFA 구성 요소에 포함되어 있으며 파인더와 필터를 포함합니다. 필요한 리소스를 찾아 선택하려면 검색 알고리즘이 Active IQ Unified Manager, VMware vCenter Server 및 데이터베이스와 같은 다른 리포지토리에서 캐시된 데이터를 검색합니다. 기본적으로 필터는 기본 키를 기준으로 리소스를 검색할 수 있는 모든 사전 항목에 대해 사용할 수 있습니다.

워크플로의 각 명령에 대한 자원 선택 기준을 정의해야 합니다. 또한 파인더를 사용하여 워크플로의 각 행에서 자원 선택 기준을 정의할 수 있습니다. 예를 들어, 특정 양의 저장 공간이 필요한 볼륨을 생성하는 경우 ""Create Volume"" 명령에서 ""Find aggregate by available capacity""finder를 사용할 수 있습니다. 이 명령을 사용하면 특정 용량의 가용 공간이 있는 애그리게이트를 선택하고 해당 볼륨에 볼륨을 생성할 수 있습니다.

vFiler 유닛, 애그리게이트, 가상 머신 등의 사전 항목 리소스에 대한 필터 규칙 집합을 정의할 수 있습니다. 필터 규칙에는 하나 이상의 규칙 그룹이 포함될 수 있습니다. 규칙은 사전 항목 속성, 연산자 및 값으로 구성됩니다. 이 특성에는 해당 참조의 속성도 포함될 수 있습니다. 예를 들어, 다음과 같이 Aggregate에 대한 규칙을 지정할 수 있습니다. ""aggr"" 문자열로 시작하는 이름이 있고 사용 가능한 공간이 5GB를 초과하는 모든 집계를 나열합니다. 그룹의 첫 번째 규칙은 'name' 속성이고, 연산자 'tarts-with', 'aggr' 값이다. 같은 그룹에 대한 두 번째 규칙은 ""Available_size_MB"", 연산자 "">", 값 ""5000""입니다. 공개 필터와 함께 필터 규칙 집합을 정의할 수 있습니다. 파인더를 선택한 경우 필터 규칙 정의 옵션이 비활성화됩니다. 필터 규칙 정의 확인란을 선택한 경우 Finder로 저장 옵션이 비활성화됩니다.

필터 및 찾기 외에도 검색 또는 정의 명령을 사용하여 사용 가능한 리소스를 검색할 수 있습니다. 검색 또는 정의 명령은 No-op 명령보다 선호되는 옵션입니다. 검색 및 정의 명령을 사용하여 인증된 사전 항목 유형과 사용자 지정 사전 항목 유형 모두의 리소스를 정의할 수 있습니다. 검색 또는 정의 명령은 리소스를 검색하지만 리소스에 대한 작업은 수행하지 않습니다. 그러나 finder를 사용하여 리소스를 검색할 경우 명령 컨텍스트에서 사용되고 명령에 의해 정의된 작업이 리소스에서 실행됩니다. 검색 또는 정의 명령으로 반환된 리소스는 워크플로의 다른 명령에 대한 변수로 사용됩니다.

다음 그림에서는 리소스 선택에 필터가 사용되었음을 보여 줍니다.

image::../media/resource_selection_5_x.png[리소스 선택 5 x]



== 미리 정의된 워크플로의 리소스 선택 예

디자이너에서 미리 정의된 다음과 같은 워크플로의 명령 세부 정보를 열어 리소스 선택 옵션이 사용되는 방식을 이해할 수 있습니다.

* Clustered Data ONTAP NFS 볼륨을 생성합니다
* 클러스터 피어링을 설정합니다
* Clustered Data ONTAP 볼륨을 제거합니다

